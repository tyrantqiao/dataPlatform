(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{ZOrW:function(a,e,t){"use strict";t.r(e);t("14J3");var n,r,s,l=t("BMrR"),i=(t("jCWc"),t("kPKH")),c=(t("qVdP"),t("jsC+")),o=(t("Pwec"),t("CtXQ")),d=(t("lUTK"),t("BvKs")),p=t("2Taf"),h=t.n(p),u=t("vZ4D"),y=t.n(u),f=t("l4Ni"),g=t.n(f),m=t("ujKo"),D=t.n(m),b=t("MhPg"),k=t.n(b),v=t("q1tI"),T=t.n(v),E=t("MuoO"),R=t("v99g"),C=t("+n12"),S=t("lVjH"),P=t.n(S),x=(t("xqX8"),t("SJQB")),w=(T.a.lazy(function(){return Promise.all([t.e(0),t.e(44)]).then(t.bind(null,"Y65U"))}),T.a.lazy(function(){return Promise.all([t.e(0),t.e(43)]).then(t.bind(null,"G2ua"))})),L=T.a.lazy(function(){return Promise.all([t.e(0),t.e(47)]).then(t.bind(null,"b2ve"))}),j=T.a.lazy(function(){return Promise.all([t.e(0),t.e(46)]).then(t.bind(null,"tLGd"))}),N=(T.a.lazy(function(){return Promise.all([t.e(0),t.e(45)]).then(t.bind(null,"Jqna"))}),n=Object(E["connect"])(function(a){var e=a.chart,t=a.loading;return{chart:e,loading:t.effects["chart/fetch"]}}),n((s=function(a){function e(){var a,t;h()(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=g()(this,(a=D()(e)).call.apply(a,[this].concat(r))),t.state={Type:"all",currentTabKey:"",rangePickerValue:Object(C["c"])("year")},t.handleChangeSalesType=function(a){t.setState({salesType:a.target.value})},t.handleTabChange=function(a){t.setState({currentTabKey:a})},t.handleRangePickerChange=function(a){var e=t.props.dispatch;t.setState({rangePickerValue:a}),e({type:"chart/fetchNodesData"})},t.selectDate=function(a){var e=t.props.dispatch;t.setState({rangePickerValue:Object(C["c"])(a)}),e({type:"chart/fetchNodesData"})},t.isActive=function(a){var e=t.state.rangePickerValue,n=Object(C["c"])(a);return e[0]&&e[1]&&e[0].isSame(n[0],"day")&&e[1].isSame(n[1],"day")?P.a.currentDate:""},t}return k()(e,a),y()(e,[{key:"componentDidMount",value:function(){var a=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){a({type:"chart/fetch"}),a({type:"chart/fetchSearchData"}),a({type:"chart/fetchSalesTypeData"}),a({type:"chart/fetchNodesData",payload:{timescale:"year",num:"2019",type:"count"}}),a({type:"chart/fetchRankingListData",payload:{limit:7,type:"data"}}),a({type:"chart/fetchRankingSafeRate",payload:{limit:7,type:"safe"}}),a({type:"chart/fetchSafeRateData",payload:{timescale:"year",type:"count",num:"all"}})})}},{key:"getRangePickerData",value:function(){var a=this.props.dispatch;a({type:"chart/fetchNodesData",payload:{timescale:"year",num:2019,type:"count"}}),a({type:"chart/fetchRankingListData",payload:{limit:7,type:"data"}}),a({type:"chart/fetchRankingSafeRate",payload:{limit:7,type:"safe"}}),a({type:"chart/fetchSafeRateData",payload:{timescale:"year",type:"count",num:"all"}})}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"chart/clear"}),cancelAnimationFrame(this.reqRef)}},{key:"render",value:function(){var a=this.state,e=a.rangePickerValue,t=a.salesType,n=a.currentTabKey,r=this.props,s=r.chart,p=r.loading,h=(s.visitData,s.visitData2),u=s.nodesData,y=s.rankingListData,f=s.rankingSafeRateData,g=s.searchData,m=s.offlineData,D=(s.offlineChartData,s.salesTypeData),b=s.safeRateData,k=s.salesTypeDataOnline,E=s.salesTypeDataOffline,C=D;C="other"===t?D:"online"===t?k:E;var S=T.a.createElement(d["a"],null,T.a.createElement(d["a"].Item,null,"\u81ea\u5b9a\u4e49\u64cd\u4f5c")),x=T.a.createElement("span",{className:P.a.iconGroup},T.a.createElement(c["a"],{overlay:S,placement:"bottomRight"},T.a.createElement(o["a"],{type:"ellipsis"})));n||m[0]&&m[0].name;return T.a.createElement(R["a"],null,T.a.createElement(v["Suspense"],{fallback:null},T.a.createElement(w,{rangePickerValue:e,nodesData:u,rankingListData:y,safeRateData:b,rankingSafeRateData:f,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:p,selectDate:this.selectDate})),T.a.createElement("div",{className:P.a.twoColLayout},T.a.createElement(l["a"],{gutter:24},T.a.createElement(i["a"],{xl:12,lg:24,md:24,sm:24,xs:24},T.a.createElement(v["Suspense"],{fallback:null},T.a.createElement(L,{loading:p,visitData2:h,selectDate:this.selectDate,searchData:g,dropdownGroup:x}))),T.a.createElement(i["a"],{xl:12,lg:24,md:24,sm:24,xs:24},T.a.createElement(v["Suspense"],{fallback:null},T.a.createElement(j,{dropdownGroup:x,salesType:t,loading:p,salesPieData:C,handleChangeSalesType:this.handleChangeSalesType}))))))}}]),e}(v["Component"]),r=s))||r);e["default"]=function(a){return T.a.createElement(x["a"],null,T.a.createElement(N,a))}},lVjH:function(a,e,t){a.exports={iconGroup:"antd-pro-pages-dashboard-analysis-iconGroup",rankingList:"antd-pro-pages-dashboard-analysis-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-rankingItemTitle",datasExtra:"antd-pro-pages-dashboard-analysis-datasExtra",currentDate:"antd-pro-pages-dashboard-analysis-currentDate",datasCard:"antd-pro-pages-dashboard-analysis-datasCard",datasBar:"antd-pro-pages-dashboard-analysis-datasBar",datasRank:"antd-pro-pages-dashboard-analysis-datasRank",datasCardExtra:"antd-pro-pages-dashboard-analysis-datasCardExtra",datasTypeRadio:"antd-pro-pages-dashboard-analysis-datasTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-offlineCard",twoColLayout:"antd-pro-pages-dashboard-analysis-twoColLayout",trendText:"antd-pro-pages-dashboard-analysis-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-rankingTitle",datasExtraWrap:"antd-pro-pages-dashboard-analysis-datasExtraWrap"}}}]);